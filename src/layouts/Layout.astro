---
import "@fontsource/bodoni-moda";
import "@fontsource/roboto";
import "@fontsource/eb-garamond";
import Hamburger from "../components/Hamburger.astro";
export interface Props {
  title: string;
}

const { title } = Astro.props;
---

<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width" />
    <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
    <title>{title}</title>
  </head>
  <body class="bg-neutral-900">
    <nav
      id="navbar"
      class="fixed top-0 left-0 w-screen flex justify-between items-center h-10 md:h-14 bg-neutral-900 text-white px-6 md:px-20 z-20 font-bodoni"
    >
      <a class="hover:text-highlight" href="/">
        <h1 class="text-xs md:text-2xl">SK Portfolio</h1>
      </a>
      <Hamburger id="hamburgerIcon" />
    </nav>

    <aside
      id="menu"
      class="w-full max-w-md h-full bg-neutral-100 border-l-2 text-neutral-900 text-2xl fixed top-0 right-[-600px] z-20 p-20"
    >
      <ul
        class="flex flex-col align-center gap-4 text-6xl font-bodoni w-full h-full"
      >
        <li><a class="hover:text-neutral-500" href="/">Home</a></li>
        <li><a class="hover:text-neutral-500" href="/about">About</a></li>
        <li><a class="hover:text-neutral-500" href="/thesis">Thesis</a></li>
        <li
          id="closeButton"
          class="mt-auto cursor-pointer hover:text-neutral-500"
        >
          Close
        </li>
      </ul>
    </aside>
    <slot />
  </body>

  <script>
    import gsap from "gsap";

    const menu = document.getElementById("menu");
    const menuIcon = document.getElementById("hamburgerIcon");
    const closeButton = document.getElementById("closeButton");

    menuIcon?.addEventListener("click", showSidebar);
    closeButton?.addEventListener("click", hideSidebar);

    function showSidebar() {
      gsap.to(menu, {
        right: 0,
        duration: 0.5,
        ease: "power2.inOut",
      });
    }

    function hideSidebar() {
      gsap.to(menu, {
        right: "-600px",
        duration: 0.5,
        ease: "power2.inOut",
      });
    }
  </script>
</html>
